# Auto-generated by Edalize

PWD = $(shell pwd)

# Simulator configuration
SIM := {{tool_options.sim}}
{% if tool_options.gui is defined %}
GUI := {{tool_options.gui}}
{% endif %}
{% if tool_options.waves is defined %}
WAVES := {{tool_options.waves}}
{% endif %}

# HDL sources
{% if verilog_sources != "" %}
VERILOG_SOURCES := {{verilog_sources}}
{% endif %}
{% if vhdl_sources != "" %}
VHDL_SOURCES := {{vhdl_sources}}
{% endif %}
{% for lib, sources in vhdl_lib_sources.items() %}
VHDL_SOURCES_{{lib}} := {{sources}}
{% endfor %}
{% if tool_options.rtl_library is defined %}
RTL_LIBRARY := {{tool_options.rtl_library}}
{% endif %}

# HDL top level configuration
TOPLEVEL := {{toplevel}}
TOPLEVEL_LANG := {{tool_options.toplevel_lang}}

# Python testbench configuration
export PYTHONPATH := {{python_path}}
MODULE := {{tool_options.module}}
{% if tool_options.testcase is defined %}
TESTCASE := {{tool_options.testcase}}
{% endif %}
{% if tool_options.random_seed is defined %}
RANDOM_SEED := {{tool_options.random_seed}}
{% endif %}
{% if tool_options.cocotb_results_file is defined %}
COCOTB_RESULTS_FILE := {{tool_options.cocotb_results_file}}
{% endif %}

# Compilation and execution arguments
{% if tool_options.compile_args is defined %}
COMPILE_ARGS := {{tool_options.compile_args}}
{% endif %}
{% if tool_options.sim_args is defined %}
SIM_ARGS := {{tool_options.sim_args}}
{% endif %}
{% if tool_options.run_args is defined %}
RUN_ARGS := {{tool_options.run_args}}
{% endif %}
{% if tool_options.extra_args is defined %}
EXTRA_ARGS := {{tool_options.extra_args}}
{% endif %}

# cocotb makefiles
include $(shell cocotb-config --makefiles)/Makefile.inc
include $(shell cocotb-config --makefiles)/Makefile.sim
